# スマートカクテルメーカー マニュアル & レシピ

Arduinoとロードセル、LEDパネルを使った、光と音でガイドするカクテル作成支援システムです。

## 🛠 ハードウェア構成
*   **制御**: Arduino Mega 2560
*   **重量センサ**: ロードセル + HX711 (Pin: DT=53, SCK=51)
*   **表示**: WS2812B LEDパネル 4x4 (Pin: A0)
*   **音声**: 圧電ブザー (Pin: 12)

## 📖 使い方

### シリアルモニタでの操作

1.  **起動**: ArduinoをPCに接続し、シリアルモニタを起動します（ボーレート: **9600**）。
2.  **レシピ選択**: メニューが表示されたら、`1` を入力して送信します。
    *   `1`: シンデレラ (Cinderella) - 特別演出モード
3.  **準備**: 自動的に0gリセット（風袋引き）が行われます。「Tare Complete」と表示されるまでグラスに触れないでください。
4.  **作成開始**:
    *   シリアルモニタに「Pour [材料名] ([目標量]g)」と表示されます。
    *   **通常モード（10ml以上）**:
        *   材料の色に合わせてLEDゲージが増えていきます。
        *   適量になると**緑色**に光ります。入れすぎると**赤色**になります。
    *   **微量モード（10ml以下）**:
        *   LEDが呼吸するように光り、ガイドします。
        *   注ぐたびに「ピッ」と音が鳴り、入れすぎを防ぎます。
    *   **シンデレラ特別演出モード**:
        *   累積重量に応じてLEDの色と明るさが変化します
        *   最後のステップ（レモンジュース）では音が鳴りません
5.  **次のステップへ**:
    *   適量を入れて2秒間安定すると、完了音が鳴り、自動的に次の材料へ進みます。
6.  **完成**:
    *   すべての材料を入れ終わるとファンファーレが鳴り、LEDが虹色に光ります。

### モバイルアプリでの操作

**📱 Expo Goアプリで調合を管理**

1.  **セットアップ**: `cocktail-app/README.md` を参照してFirebase設定を完了してください
2.  **アプリ起動**: Expo Goアプリでスキャンして起動
3.  **調合開始**: アプリの「調合開始」ボタンをタップ
4.  **調合完了**: 完成したら「調合完了」ボタンをタップ

詳細は `cocktail-app/` ディレクトリを参照してください。

---

## 🍹 搭載レシピ一覧

### ① シンデレラ（正統版） - Cinderella
酸味・甘みのバランスが取れた王道ノンアルカクテル。

*   **特別演出モード有効**: このレシピには累積重量による特別なLED演出が施されています
*   **LED演出**:
    - 0-40ml: 🟡 黄色に徐々に光る（オレンジジュース）
    - 40ml: 🟠 オレンジ色に変化
    - 50-80ml: 🔴 赤く光り、徐々に暗くなる（パイナップルジュース）
    - 80ml: 🟡 黄色にMAX輝度で突然光る
    - 最後のステップ（レモンジュース）: 音は鳴りません
*   **材料**:
    1.  オレンジジュース：40ml
    2.  パイナップルジュース：40ml
    3.  レモンジュース：10ml (⚠️微量モード、無音)
*   **作り方**: シェイクが推奨ですが、グラスでビルド（混ぜるだけ）でもOKです。